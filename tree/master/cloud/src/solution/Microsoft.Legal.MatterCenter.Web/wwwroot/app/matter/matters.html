<!--<div class="container-fluid">   -->
<div ng-click="vm.closealldrops()" class="mainMatter">

    <div class="row" ng-init="initOfficeLibrary()">
        <div class="row" id="mainmenu">
            <div class="col-xs-2 col-sm-3 col-md-3 col-lg-2 pad0">
                <div class="col-xs-8 col-sm-3" ng-click="vm.menuClick()">
                    <img class="AppSwitcher OpenSwitcher" src="Images/hamburger30x30.png" alt="Open App Switcher" title="Matter Center menu" />
                    <img class="AppSwitcher CloseSwitcher hide" src="Images/MC_Navigation_Close.png" alt="Close App Switcher" title="Close" />
                    <span class="MenuCaption">menu</span>
                </div>
                <div class="AppMenuFlyout ms-shadow">
                    <div class="AppMenuFlyoutPriLinks">
                        <a ui-sref='mc.navigation()' class="AppFlyoutLinks HomeLink" title="Home"><span class="AppFlyoutLinksText">Home</span></a>
                        <a ui-sref='mc.matters()' class="AppFlyoutLinks MatterSitesLink" title="Search matters"><span class="AppFlyoutLinksText">Matters</span></a>
                        <a ui-sref='mc.documents()' class="AppFlyoutLinks MatterDocumentsLink" title="Search documents"><span class="AppFlyoutLinksText">Documents</span></a>
                    </div>
                </div>
                <div class="col-sm-9 col-md-9 col-lg-9 hidden-xs pad0" id="mainselect">
                    <!--<select class="form-control" ng-model="vm.ddlMatters"  ng-options="matter.Name for matter in vm.Matters" ng-change="vm.GetMatters(vm.ddlMatters.Id)"></select>-->
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default dropdown-toggle col-sm-12 col-md-12 col-lg-12 dpbtn" data-toggle="dropdown">
                            <span class="col-sm-12 col-md-12 text-left pad0 ms-font-weight-semilight">{{vm.mattername}}</span>
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu pull-right col-sm-12 col-md-12 col-lg-12">
                            <li class="searchPanelDropdown ms-font-weight-semilight" ng-class="{'dpselected':vm.mattername=='All Matters'}" ng-click="vm.SetMatters(1,'All Matters')">All Matters</li>
                            <li class="searchPanelDropdown ms-font-weight-semilight" ng-class="{'dpselected':vm.mattername=='My Matters'}" ng-click="vm.SetMatters(2,'My Matters')">My Matters</li>
                            <li class="searchPanelDropdown ms-font-weight-semilight" ng-class="{'dpselected':vm.mattername=='Pinned Matters'}" ng-click="vm.SetMatters(3,'Pinned Matters')">Pinned Matters</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-sm-5 col-md-4 col-lg-4 hidden-xs">
                <div class="input-group col-xs-10 col-sm-12" id="searchmatter">
                    <input type="text" ng-model="vm.selected" ng-disabled="!vm.lazyloader" placeholder="Search by ID, or matter or client name" uib-typeahead="matterDataList.matterName + ' ('+ matterDataList.matterID + ')' for matterDataList in vm.searchMatter($viewValue)" typeahead-loading="loadingLocations" typeahead-no-results="noResults" typeahead-on-select='vm.typeheadselect($item, $model)' class="form-control">
                    <span class="input-group-addon cursor" id="basic-addon1" ng-click="vm.search()"><i class="glyphicon glyphicon-search"></i></span>
                </div>
                <div class="col-xs-12">
                    <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
                    <!--<div ng-show="noResults">
                        <i class="glyphicon glyphicon-remove"></i> No Results Found
                    </div>-->
                </div>
            </div>
            <div id="searchBarHolder" class="col-xs-5 hidden-md hidden-lg hidden-sm pad0 searchwidth">
                <div class="input-group col-xs-12">
                    <input type="text" ng-model="vm.selected" ng-disabled="!vm.lazyloader" placeholder="Search by ID, document or client name" uib-typeahead="matterDataList.matterName + ' ('+ matterDataList.matterID + ')' for matterDataList in vm.searchMatter($viewValue)" typeahead-loading="loadingLocations" typeahead-no-results="noResults" class="form-control">
                    <div class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="vm.search()"><i class="glyphicon glyphicon-search"></i></button>
                        <button type="button" class="btn btn-default" data-toggle="dropdown" ng-click="vm.showmatterdrop($event)"><span class="caret"></span></button>
                    </div>
                </div>
                <ul class="col-xs-12 mattersdrop" ng-if="vm.mattersdrop">
                    <li class="searchPanelDropdown ms-font-weight-semilight" ng-class="{'dpselected':vm.mattername=='All Matters'}" ng-click="vm.SetMatters(1,'All Matters')">All Matters</li>
                    <li class="searchPanelDropdown ms-font-weight-semilight" ng-class="{'dpselected':vm.mattername=='My Matters'}" ng-click="vm.SetMatters(2,'My Matters')">My Matters</li>
                    <li class="searchPanelDropdown ms-font-weight-semilight" ng-class="{'dpselected':vm.mattername=='Pinned Matters'}" ng-click="vm.SetMatters(3,'Pinned Matters')">Pinned Matters</li>
                </ul>
                <div class="col-xs-12">
                    <i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>
                    <!--<div ng-show="noResults">
                        <i class="glyphicon glyphicon-remove"></i> No Results Found
                    </div>-->
                </div>
            </div>
        </div>
    </div>
    <div class="row title">
        <div class="col-sm-12" id="gridViewPageHeaderContainer">
            <span role="heading" class="add-margin-bottom">{{vm.mattername}}</span>
        </div>
    </div>
    <div class="row" id="mattergrid">
        <div class="col-sm-12" ng-if="vm.divuigrid">
            <div ui-grid="vm.gridOptions" ui-grid-exporter ui-grid-selection data-ui-grid-infinite-scroll class="grid">
            </div>
        </div>
    </div>

    <div class="col-sm-12 noResultsText" ng-if="vm.nodata" >
        Nothing matches your search term or the filter you selected. Please try again.<br>If you applied a filter, remove it to get back to your list.<br>Search suggestions:<br><ul><li>Make sure all words are spelled correctly</li><li>Try different keywords</li><li>Try searching by the matter name or client name</li><li>Try more general search terms</li></ul>
    </div>

    <onload sortdetails="{{vm.sortexp}}"></onload>

    <!--Upload Modal Screen Start-->
    <div class="modal fade" id="UploadMatterModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" style="width:100%">
            <div ng-if="vm.IsDupliacteDocument" class="notificationContainerForPopup" style="height: 80px;margin-left:0">


                <script type="text/ng-template" id="duplicateErrorDiv">
                    <div class="notification warningNotification" ng-show="duplicatefile.cancel!==null">
                        <img id="warningImg" draggable="false" alt="Warning Message" src="../Images/warning-message.png">
                        <div id="overWriteDocumentName">
                            <div ng-bind-html="duplicatefile.value"></div>


                        </div>
                        <div class="notificationResult hide"></div>
                        <div class="askForOverwrite">
                            <input ng-show="duplicatefile.contentCheck=='True'" type="button" title="Matter Center will compare all content and data associated with the two documents. Navigating away from this screen will cancel the content check." value="Perform content check" data-operation="contentCheck" ng-click="vm.localOverWriteDocument(duplicatefile,'contentCheck');vm.contentCheckNotification(duplicatefile,true);">
                            <input ng-show="duplicatefile.saveLatestVersion=='True'" title="The file will be saved as the latest version of the existing document that has same title. Matter Center will retain all prior versions of the document." id="overWriteYes"
                                   ng-click="vm.localOverWriteDocument(duplicatefile,'overwrite');" type="button" value="Save as latest version" data-operation="overwrite">
                            <input ng-show="duplicatefile.append==true" type='button' data-operation='append' title='The file will be saved as new, separate document with the current date and time added to the end of the file name.' value="Append date to file name and save" ng-click="vm.localOverWriteDocument(duplicatefile,'append')" />
                            <input ng-show="duplicatefile.cancel=='True'" title="This document will not be uploaded and you will return to the previous screen." id="overWriteNo"
                                   ng-click="vm.localOverWriteDocument(duplicatefile,'ignore');" type="button" value="Cancel upload" data-operation="ignore">

                            <input ng-show="duplicatefile.ok=='True'" title="This document will not be uploaded and you will return to the previous screen." id="ok"
                                   ng-click="vm.localOverWriteDocument(duplicatefile,'ok');" type="button" value="Ok" data-operation="ignore">
                            <div ng-show="duplicatefile.contentCheck=='contentCheck'" class='notificationCC'>
                                <img src="../Images/loadingcirclests16.gif" alt="" />Checking content  <input id='cancelCC' type='button' value='Cancel' ng-click='vm.abortContentCheck(duplicatefile,true)' />
                            </div>
                        </div>
                    </div>
                </script>

                <div ng-repeat="duplicatefile in vm.ducplicateSourceFile" ng-include="'duplicateErrorDiv'"></div>

            </div>

            <div class="modal-content">
                <div ng-show="vm.oUploadGlobal.successBanner" class="notification successNotification ms-font-weight-semibold successUpload">Upload complete.<span class="closeNotification" ng-click="vm.closeSuccessBanner()">x</span></div>
                <div class="row modalClose">
                    <img data-dismiss="modal" ng-click="vm.hideBreadCrumb()" class="pull-right" src="../../images/close-666.png" />
                </div>
                <div class="modal-body modelbodyContainer">
                    <div class='loadingprogressbar'>
                        <img ng-if="vm.isLoadingFromDesktopStarted" alt='Loading' class='attachmentListLoading' src='../images/loading_metro.gif' />
                    </div>
                    <div class="row margin0">
                        <div class="col-sm-10 pad0">
                            <div class="attachmentHeader marginBottom15">Drag and drop items to folders on the right</div>
                        </div>

                    </div>
                    <div class="row margin0">
                        <div class="col-sm-9 pull-left mailHeaderItems"><div>Items</div></div>
                        <div class="col-sm-3 pull-left mailHeaderFolders"><div></div>Folders</div>
                    </div>

                    <div class="row margin0">
                        <div class="col-sm-9 maildata">
                            <div ng-if="vm.loadingAttachments" class='mailContentDiv'><img alt='Loading' class='mailContentLoading' src='../images/loading_metro.gif' /></div>
                            <!--Content start to show mail attachment information-->
                            <div class="attachmentSection" ng-repeat="attachmentInfo in vm.allAttachmentDetails">

                                <div ng-if="attachmentInfo.isEmail" class="attachment">
                                    <div class="attachmentName mailName">
                                        <img ng-hide="vm.mailUpLoadSuccess" title="Edit attachment name" class="editUploadIcon" id="{{attachmentInfo.counter}}editIcon" draggable="false"
                                             ng-click="vm.editAttachment(this, $event)" alt="Edit" src="../Images/edit-666.png">
                                        <img title="Save attachment name" class="saveUploadIcon hide" id="{{attachmentInfo.counter}}saveIcon" draggable="false"
                                             ng-click="vm.saveAttachment(this, $event)" alt="Save" src="../Images/save-666.png">
                                        <!--If the mail upload is success, show this div-->
                                        <div ng-if="vm.mailUpLoadSuccess" class="uploadSuccessStatus" id="{{attachmentInfo.counter}}attachment-Status">
                                            <img class="uploadSuccessStatus" alt="Uploaded successfully" src="/images/success-message.png">
                                        </div>
                                        <img class="attachIcon attachIconMargin" id="{{attachmentInfo.counter}}attachIcon" alt="attachment icon" src="../Images/attach_icon-15x15_666.png">
                                        <input class="popupName editPopupContent hide ui-draggable" id="0attachmentText" type="text" maxlength="128">
                                        <div title="Test attachments"
                                             class="popupName ui-draggable"
                                             id="{{attachmentInfo.counter}}attachment"
                                             draggable
                                             data-isEmail="{{attachmentInfo.isEmail}}"
                                             data-attachmentid="{{attachmentInfo.attachmentId}}" attachedfile="attachmentInfo">{{attachmentInfo.attachmentFileName}}</div>
                                        <!--If the mail upload is success, show the folder name under which the email has been dropped-->
                                        <div ng-if="vm.mailUpLoadSuccess" title="{{vm.mailUploadedFolder}}" class="uploadSuccessMessage" id="{{attachmentInfo.counter}}attachment-Message">{{vm.mailUploadedFolder}}</div>
                                    </div>
                                </div>

                                <div ng-if="!attachmentInfo.isEmail" class="attachment">
                                    <div class="attachmentName">
                                        <img ng-hide="attachmentInfo.uploadSuccess" title="Edit attachment name" class="editUploadIcon" id="{{attachmentInfo.counter}}editIcon" draggable="false"
                                             ng-click="vm.editAttachment(this, $event)" alt="Edit" src="../Images/edit-666.png">
                                        <img title="Save attachment name" class="saveUploadIcon hide" id="{{attachmentInfo.counter}}saveIcon" draggable="false"
                                             ng-click="vm.saveAttachment(this, $event)" alt="Save" src="../Images/save-666.png">
                                        <div ng-show="attachmentInfo.uploadSuccess" class="uploadSuccessStatus" id="{{attachmentInfo.counter}}attachment-Status">
                                            <img class="uploadSuccessStatus" alt="Uploaded successfully" src="/images/success-message.png">
                                        </div>
                                        <!--If the attachment upload is success, show this div-->
                                        <img class="attachIcon attachIconMargin" id="{{attachmentInfo.counter}}attachIcon" alt="attachment icon" src="{{attachmentInfo.iconSrc}}" fallbacksrc>
                                        <input class="popupName editPopupContent hide ui-draggable" id="{{attachmentInfo.counter}}attachmentText" type="text" maxlength="128">
                                        <div title="{{attachmentInfo.attachmentFileName}}"
                                             id="{{attachmentInfo.counter}}attachment"
                                             class="popupName ui-draggable"
                                             draggable
                                             data-contentType="{{attachmentInfo.contentType}}"
                                             data-size="{{attachmentInfo.size}}"
                                             data-isEmail="{{attachmentInfo.isEmail}}"
                                             data-attachmentid="{{attachmentInfo.attachmentId}}" attachedfile="attachmentInfo">{{attachmentInfo.attachmentFileName}}</div>
                                        <!--If the attachment upload is success, show the folder name under which the attachment has been dropped-->
                                        <div ng-show="attachmentInfo.uploadSuccess" title="{{vm.docUploadedFolder}}" class="uploadSuccessMessage">{{vm.docUploadedFolder}} </div>
                                    </div>
                                </div>
                            </div>
                            <!--Content end to show mail attachment information-->
                            <!--Content start for showing the files which are uploaded from desktop-->
                            <div class="attachmentSection" ng-show="!(vm.loadingAttachments)">
                                <div ng-repeat="uploadedFile in vm.uploadedFiles" class="attachment">
                                    <div class="attachmentName mailName">
                                        <!--If the mail upload is success, show this div-->
                                        <div ng-if="!uploadedFile.isError" class="uploadSuccessStatus">
                                            <img class="uploadSuccessStatus" alt="Uploaded successfully" src="/images/success-message.png">
                                        </div>
                                        <img class="attachIcon" id="{{uploadedFile.counter}}attachIcon"
                                             alt="attachment icon" src="{{uploadedFile.documentIconUrl}}" fallbacksrc >
                                        <div title="Test attachments" class="popupName">{{uploadedFile.fileName}}</div>
                                        <!--If the mail upload is success, show the folder name under which the email has been dropped-->
                                        <div ng-if="!uploadedFile.isError" title="{{uploadedFile.dropFolder}}" class="uploadSuccessMessage">({{uploadedFile.dropFolder}})</div>
                                    </div>
                                </div>
                                <div ng-hide="(vm.uploadedFiles.length || vm.allAttachmentDetails.length) ">
                                    <div title="" class="popupName" style="margin-left:1%;">
                                        No files uploaded
                                    </div>
                                </div>
                            </div>
                            <!--Content end for showing the files which are uploaded from desktop-->
                            <!--<div ng-if="vm.allAttachmentDetails.length==0" class="noFilesUploaded">No files uploaded</div>-->
                        </div>
                        <div class="col-sm-3 folderContent">
                            <div id="breadcrumb" class="breadcrumb" ng-hide="breadcrumb">
                                <img alt="Root" ng-click="hideBreadCrumb()" id="rootLink" src="../Images/Return_Icon_23px_23px_666.png" title="<span class=&quot;content&quot;>cv vb</span>" draggable="false">
                                <div id="parentFolder" class="breadcrumbItem"></div>
                                <div id="breadcrumbSeparator"></div>
                                <div id="currentFolder" class="breadcrumbItem"></div>
                            </div>
                            <div class="folderStructureContent" showbreadcrumb ng-hide="foldercontent">
                                <script type="text/ng-template" id="folderTree">
                                    <div ng-if="child.parentURL!==null" class="treeNodes" ng-show="child.active" title="" droppable drop="handleDrop()" folder="child" data-foldername="{{child.url}}" data-parentname="{{child.parentURL}}" ng-click="vm.showSelectedFolderTree(child)">
                                        <img class="folderIcon" src="https://lcadms.sharepoint.com/_layouts/15/images/folder.gif" align="center" alt="Documents">
                                        {{child.name}}
                                    </div>
                                    <ul ng-if="child.children" style="margin-left:5px;">
                                        <li ng-repeat="child in child.children" data-foldername="{{child.url}}" data-parentname="{{child.parentURL}}" droppable drop="handleDrop()" folder="child" class="childNode" ng-include="'folderTree'">

                                        </li>
                                    </ul>
                                </script>

                                <ul>
                                    <li ng-repeat="child in vm.foldersList" ng-class='child.parentURL?"childNode":"parentNode"' data-foldername="{{child.url}}" data-parentname="{{child.parentURL}}" droppable drop="handleDrop()" folder="child" ng-include="'folderTree'" style="display: inline-block; width: 90%; padding:0;">

                                    </li>

                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="row margin0 marginTop15">
                        <div class="pull-left"><img src="../../images/information-blue.png" /> You can also drag and drop files from your desktop.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="loadingImageContainer">
        <div class="lazyLoading" ng-hide="vm.lazyloader">
            <img src="../Images/WindowsLoadingFast.GIF" alt="Loading..." title="Loading..." />
        </div>
    </div>


    <div class="test flyoutWrapper" style="display:none;
    position: absolute;
    top: 128px;
    background: #fff;
    z-index: 5;
    left: 10px;
    border: 1px solid #ccc;
    background-color: white;">

    </div>


</div>


